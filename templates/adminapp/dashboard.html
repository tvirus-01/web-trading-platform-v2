{% extends 'adminapp/layout.html' %}
{% load static %}
{% block content %}
  <div class="wrapper ">
    <div class="main-panel">
      {% include 'adminapp/modules/navbar.html' %}
      <div class="content">
        <div class="container-fluid">
          
          <div class="row">
            <div class="col">
              <h3>Clients</h3>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <table class="table table-striped table-dark">
                
                <thead>
                  <tr>
                    <th>Client ID</th>
                    <th>User Name</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Country</th>
                    <th>Referal Code</th>
                    <th>Last Login</th>
                    <th>Join Date</th>
                    <th>Action</th>
                  </tr>
                </thead>

                <tbody>
                  {% for user in all_users_data %}
                    <tr id="user_{{ user.id }}">
                      <td>{{ user.id }}</td>
                      <td>{{ user.username }}</td>
                      <td>{{ user.first_name }}</td>
                      <td>{{ user.last_name }}</td>
                      <td>{{ user.email }}</td>
                      <td>{{ user.phone }}</td>
                      <td>{{ user.country }}</td>
                      <td>{{ user.referral_code }}</td>
                      <td>{{ user.last_login }}</td>
                      <td>{{ user.date_joined }}</td>
                      <td>
                        <button class="btn btn-danger btn-del btn-sm" user_id="{{ user.id }}" data-toggle="modal" data-target="#delModalConfirm">X</button>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>

              <div class="modal fade" id="delModalConfirm" tabindex="-1" role="dialog" aria-labelledby="delModalConfirmLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-body">
                      Are you sure you want to delete this user?
                      <input type="hidden" name="user_id" value="">
                    </div>
                    <div class="modal-footer" style="justify-content: space-between;">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancle</button>
                      <button type="button" class="btn btn-primary btn-del-confirm" data-dismiss="modal">Confirm</button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class="container-fluid">
          <script src="{% static 'user-dashboard/assets/js/core/jquery.min.js' %}"></script>
          <script src="{% static 'js/admin/dash.js' %}"></script>
        </div>
      </footer>
    </div>
  </div>
{% endblock %}